(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{574:function(a,t,s){"use strict";s.r(t);var e=s(4),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("[TOC]")]),a._v(" "),s("p",[a._v("最近的比赛有:\nID:HSCTF\nHSCTF 7 https://hsctf.com/\n将在16小时18分后结束，结束时间6号8点整\nID:Defenit\n2020 Defenit CTF https://ctf.defenit.kr/about\n将在1小时18分后开始，开始时间今天17点整，结束时间7号17点整\nID:RA\nReally Awesome CTF 2020 https://ractf.co.uk/\n将在9小时18分后开始，开始时间6号1点整，结束时间10号1点整\nID:BwtPwn\nBatPwn - BSides Ahmedabad CTF 2020 https://bsidesahmedabad.in/BATPWN/\n将在13小时18分后开始，开始时间6号5点整，结束时间7号5点整\nID:CyberHack\nCyberHackCTF 2020 https://cyberhack.tech/\n将在1天2小时后开始，开始时间6号18点半，结束时间7号18点半")]),a._v(" "),s("p",[a._v("SQL labs")]),a._v(" "),s("h1",{attrs:{id:"ctf线下攻防赛"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ctf线下攻防赛"}},[a._v("#")]),a._v(" CTF线下攻防赛")]),a._v(" "),s("h2",{attrs:{id:"ssh登录修改账秘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh登录修改账秘"}},[a._v("#")]),a._v(" SSH登录修改账秘")]),a._v(" "),s("h3",{attrs:{id:"下载web信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载web信息"}},[a._v("#")]),a._v(" 下载Web信息")]),a._v(" "),s("h3",{attrs:{id:"上waf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上waf"}},[a._v("#")]),a._v(" 上WAF")]),a._v(" "),s("h3",{attrs:{id:"文件监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件监控"}},[a._v("#")]),a._v(" 文件监控")]),a._v(" "),s("p",[a._v("log分析 - 利用别人家的脚本")]),a._v(" "),s("h3",{attrs:{id:"端口扫描"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#端口扫描"}},[a._v("#")]),a._v(" 端口扫描")]),a._v(" "),s("h2",{attrs:{id:"主机发现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主机发现"}},[a._v("#")]),a._v(" 主机发现")]),a._v(" "),s("p",[a._v("RouterScan.exe , HttpScan.py")]),a._v(" "),s("h3",{attrs:{id:"端口扫描-nmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#端口扫描-nmap"}},[a._v("#")]),a._v(" 端口扫描 - Nmap")]),a._v(" "),s("p",[a._v("服务分析")]),a._v(" "),s("h3",{attrs:{id:"黑盒测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#黑盒测试"}},[a._v("#")]),a._v(" 黑盒测试")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("目录扫描")]),a._v(" "),s("ul",[s("li",[a._v("后门爆破 - k8一句话爆破")]),a._v(" "),s("li",[a._v("k8fly")])])])]),a._v(" "),s("h4",{attrs:{id:"权限维持"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#权限维持"}},[a._v("#")]),a._v(" 权限维持")]),a._v(" "),s("p",[a._v("种植不死马(文件隐藏) - 条件竞争 - 批量上传+批量访问")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v('不死马解决方案： 1.杀进程 2.竞争写入3.断Apache（被发现扣分）\n最好是种md5马。防止反打。\necho system("curl 10.0.0.1") => 批量获取\n')])])]),s("p",[a._v("反弹shell")]),a._v(" "),s("p",[a._v("信息隐藏")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v(" 文件前面加.比如1.php => .1.php\n 多个目录下种马，asp, jsp马都尝试下。\n")])])]),s("p",[s("a",{attrs:{href:"https://www.fuzzer.xyz/2019/04/02/AWD%E7%BA%BF%E4%B8%8B%E5%87%86%E5%A4%87%E6%8C%87%E5%8D%97/",target:"_blank",rel:"noopener noreferrer"}},[a._v("AWD线下备忘录"),s("OutboundLink")],1)]),a._v(" "),s("h4",{attrs:{id:"清除痕迹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#清除痕迹"}},[a._v("#")]),a._v(" 清除痕迹")]),a._v(" "),s("p",[a._v("var/log, 日志\nbash_history等 等")]),a._v(" "),s("h1",{attrs:{id:"awd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#awd"}},[a._v("#")]),a._v(" AWD")]),a._v(" "),s("p",[a._v("ABC3人")]),a._v(" "),s("p",[a._v("1.dump目录的源码。。。备份下。 /var/www/html，\n2.D盾扫一下。\n2.1 同时派一个人 nmap等工具 信息收集\n关闭非必要端口，留下基本端口。\n看下目录结构。\n准备waf，放上，然后测试自己主机的服务（不要让自己的主机当机）。主办方定时会check基本服务有没有。\n上文件监控和流量监控(Wireshark监控一下)\n看/var/log 里的日志。")]),a._v(" "),s("p",[a._v("自动化批量提交脚本, curl, getflag,")]),a._v(" "),s("h2",{attrs:{id:"攻击流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#攻击流程"}},[a._v("#")]),a._v(" 攻击流程")]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("上WAF、上监控、只留必要端口")])]),a._v(" "),s("p",[a._v("部署WAF")]),a._v(" "),s("p",[a._v("部署文件监控脚本")]),a._v(" "),s("p",[a._v("部署流程监控脚本或开启服务器日志记录。")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.freebuf.com/articles/web/208778.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("AWD攻防赛之各类漏洞FIX方案"),s("OutboundLink")],1)]),a._v(" "),s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("ssh <-p 端口>  用户名@IP\nscp 文件路径  用户名@IP：存放路径\ntar -zcvf web.tar.gz /var/www/html\npkill -kill -t <用户tty>\n")])])]),s("p",[a._v("查看已建立网络连接及进程")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("netstat -antulp | grep EST\n")])])]),s("p",[a._v("查看指定端口被哪个进程占用")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("lsof -i:端口号 或者 netstat -tunlpl | grep 端口号\n")])])]),s("p",[a._v("结束进程命令")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("kill PID\nkillall <进程名>\nkill - <PID>\n")])])]),s("p",[a._v("封杀某个IP或者ip段， 如:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("iptables -I INPUT -s . j DROP \niptables -I INPUT-S ./ j DROP\n")])])]),s("p",[a._v("禁止从某个主机ssh远程访问登陆到本机，如123..")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("iptable -t filter -A INPUT -s . p tcp -- dport j DROP\n")])])]),s("p",[a._v("备份mysql数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mysqldump -u 用户名 -p密码 数据库名 > back.sql\nmysqldump --all-databases >> bak.sql\n")])])]),s("p",[a._v("还原mysql数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("mysql -u 用户名 -p 密码 数据库名 < bak.sql\nfind / *.php -perm\nawk -F: /etc/passwd\ncrontab -l\n")])])]),s("p",[a._v("检测所有的tcp连接数量及状态")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("netstat --ant | awk | grep | sed -e -e | sort | uniq -c | sort -rn\n")])])]),s("p",[a._v("查看页面访问排名前十的IP")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("cat /var/1og/apache2/access.1og | cut -f1 -d | sort | uniq -c | sort -k -r | head\n")])])]),s("p",[a._v("查者页面访问排名前十的URL")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("cat /var/log/apache2/access.log | cut -f4 -d | sort | uniq -c | sort -k -r | head\n")])])]),s("h2",{attrs:{id:"资源分享"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源分享"}},[a._v("#")]),a._v(" 资源分享")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://neversec.top/20190415/how-to-awd.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("AWD 资源小合集(持续更新)"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/SecWiki/linux-kernel-exploits",target:"_blank",rel:"noopener noreferrer"}},[a._v("linux-kernel-exploits"),s("OutboundLink")],1)]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/admintony/Prepare-for-AWD",target:"_blank",rel:"noopener noreferrer"}},[a._v("AWD线下赛脚本集合"),s("OutboundLink")],1)]),a._v(" "),s("h3",{attrs:{id:"常用工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用工具"}},[a._v("#")]),a._v(" 常用工具")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("Burpsuite\nSqlmap\nNmap、masscan、 御剑、wpscan\nnc\nD盾、Seay、 Rips、 安全狗\nMobaXterm、Xshell、 Xftp\n菜刀或蚁剑\nChrome、Firefox各类插件\nHackbar\nKali\nPython的各类函数库、软件包\n")])])]),s("h3",{attrs:{id:"代码比较工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码比较工具"}},[a._v("#")]),a._v(" 代码比较工具")]),a._v(" "),s("p",[a._v("BeyondCompare(Windows)")]),a._v(" "),s("p",[a._v("Kaleidoscope(MacOS)")]),a._v(" "),s("h3",{attrs:{id:"一句话木马"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一句话木马"}},[a._v("#")]),a._v(" 一句话木马")]),a._v(" "),s("p",[a._v("php,asp,aspx,jsp, 内存马")]),a._v(" "),s("h2",{attrs:{id:"其他准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他准备"}},[a._v("#")]),a._v(" 其他准备")]),a._v(" "),s("p",[a._v("提前准备好各种cmd的poc、exp(phpwin, phpcms, dz)")]),a._v(" "),s("p",[a._v("还有各种自动化脚本，起码有个模板")])])}),[],!1,null,null,null);t.default=r.exports}}]);